<div class="container mt-5" id="contact">
  <h3 class="text-center title mb-4">Contact Us</h3>

    <!-- Success Message -->
    <div *ngIf="formSubmittedSuccessfully" class="alert alert-success text-center">
      Your message has been sent successfully!
    </div>

  <form [formGroup]="contactForm" (ngSubmit)="onSubmit()">
    <!-- Name Field -->
    <div class="mb-3">
      <label for="name" class="form-label">Name</label>
      <input id="name" type="text" formControlName="name" class="form-control" [ngClass]="{'is-invalid': name?.invalid && submitted}">
      <div *ngIf="name?.invalid && submitted" class="invalid-feedback">
        Name is required.
      </div>
    </div>

    <!-- Email Field -->
    <div class="mb-3">
      <label for="email" class="form-label">Email</label>
      <input id="email" type="email" formControlName="email" class="form-control" [ngClass]="{'is-invalid': email?.invalid && submitted}">
      <div *ngIf="email?.invalid && submitted" class="invalid-feedback">
        <div *ngIf="email?.errors?.['required']">Email is required.</div>
        <div *ngIf="email?.errors?.['pattern']">Please enter a valid email address.</div>
      </div>
    </div>

    <!-- Phone Field -->
    <div class="mb-3">
      <label for="phone" class="form-label">Phone</label>
      <input id="phone" type="number" formControlName="phone" class="form-control" [ngClass]="{'is-invalid': phone?.invalid && submitted}">
      <div *ngIf="phone?.invalid && submitted" class="invalid-feedback">
        <div *ngIf="phone?.errors?.['required']">Phone number is required.</div>
        <div *ngIf="phone?.errors?.['minlength']">Phone number must be exactly 11 digits.</div>
        <div *ngIf="phone?.errors?.['maxlength']">Phone number must be exactly 11 digits.</div>
      </div>
    </div>

    <!-- Message Content Field -->
    <div class="mb-3">
      <label for="content" class="form-label">Message</label>
      <textarea id="content" formControlName="content" class="form-control" [ngClass]="{'is-invalid': content?.invalid && submitted}"></textarea>
      <div *ngIf="content?.invalid && submitted" class="invalid-feedback">
        Message content is required.
      </div>
    </div>

    <!-- CAPTCHA Field -->
    <div class="mb-3">
      <re-captcha formControlName="captcha" 
        siteKey="6Le8fjkqAAAAAFN0R8qlbqTVP-1Os6fGYUVk36sh"
        (resolved)="onCaptchaResolved($event)"
        [ngClass]="{'is-invalid': captcha?.invalid && submitted}">
      </re-captcha>
      <div *ngIf="captcha?.invalid && submitted" class="invalid-feedback">
        Captcha is required.
      </div>
    </div>

    <div class="d-flex justify-content-end">
      <button type="submit" class="w-25 btn btn-primary rounded-pill">Send</button>
    </div>
  </form>
</div>
